(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[266],{5220:function(e,r,t){Promise.resolve().then(t.bind(t,6245))},6245:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return d}});var s=t(7437),a=t(2265),l=t(4803),i=t(3145),c=t(9116),n=t(1469);function d(){let[e,r]=(0,a.useState)(""),[t,d]=(0,a.useState)([]),[o,m]=(0,a.useState)([null,null,null]),[x,h]=(0,a.useState)(!1),[u,g]=(0,a.useState)(null),p=async()=>{if(!(e.trim().length<2)){h(!0);try{let r=await (0,c.z1)(e);d(r.slice(0,10))}catch(e){console.error("Error searching movies:",e)}finally{h(!1)}}},j=async e=>{if(null!==u)try{let t=await (0,c.TP)(e.id);m(e=>{let r=[...e];return r[u]=t,r}),d([]),r(""),g(null)}catch(e){console.error("Error fetching movie details:",e)}},b=e=>{m(r=>{let t=[...r];return t[e]=null,t})},v=e=>{g(e),d([]),r("")};return(0,s.jsxs)("div",{className:"min-h-screen bg-slate-50 dark:bg-dark-800",children:[(0,s.jsx)(l.default,{}),(0,s.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,s.jsxs)("div",{className:"max-w-5xl mx-auto",children:[(0,s.jsx)("h1",{className:"text-3xl md:text-4xl font-bold mb-6 text-center",children:"Compare Movies"}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-300 text-center mb-10",children:"Select up to three movies to compare ratings, reviews, and details side by side."}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:o.map((e,r)=>{var t;return(0,s.jsx)("div",{className:"card-neumorphic flex flex-col items-center text-center p-4 aspect-[1/1.2]",children:e?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"relative w-40 aspect-[2/3] mb-4",children:[(0,s.jsx)(i.default,{src:"https://image.tmdb.org/t/p/w500".concat(e.poster_path),alt:e.title,fill:!0,className:"object-cover rounded-lg"}),(0,s.jsx)("button",{onClick:()=>b(r),className:"absolute -top-2 -right-2 w-8 h-8 rounded-full bg-red-500 text-white flex items-center justify-center hover:bg-red-600 transition-colors","aria-label":"Remove movie",children:(0,s.jsx)(n.q5L,{size:16})})]}),(0,s.jsx)("h3",{className:"font-semibold text-lg line-clamp-1",children:e.title}),(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:(null===(t=e.release_date)||void 0===t?void 0:t.substring(0,4))||"Unknown"})]}):(0,s.jsxs)("div",{onClick:()=>v(r),className:"w-full h-full flex flex-col items-center justify-center cursor-pointer hover:bg-gray-100 dark:hover:bg-dark-600 rounded-lg transition-colors",children:[(0,s.jsx)("div",{className:"w-16 h-16 rounded-full bg-gray-200 dark:bg-dark-500 flex items-center justify-center mb-4",children:(0,s.jsx)(n.jRj,{size:24,className:"text-gray-500 dark:text-gray-400"})}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Select a movie"})]})},r)})}),null!==u&&(0,s.jsxs)("div",{className:"card-neumorphic p-6 mb-8",children:[(0,s.jsxs)("h2",{className:"text-xl font-semibold mb-4",children:["Select movie for comparison slot ",u+1]}),(0,s.jsxs)("div",{className:"flex w-full mb-4",children:[(0,s.jsxs)("div",{className:"relative flex-1",children:[(0,s.jsx)("input",{type:"text",value:e,onChange:e=>r(e.target.value),onKeyPress:e=>{"Enter"===e.key&&p()},placeholder:"Search for a movie...",className:"w-full px-4 py-2 pr-10 rounded-l-lg border border-gray-300 dark:border-dark-500 bg-white dark:bg-dark-700 focus:outline-none focus:ring-2 focus:ring-primary-500"}),e&&(0,s.jsx)("button",{onClick:()=>r(""),className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500","aria-label":"Clear search",children:(0,s.jsx)(n.q5L,{size:18})})]}),(0,s.jsxs)("button",{onClick:p,className:"px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-r-lg transition-colors flex items-center",children:[(0,s.jsx)(n.jRj,{className:"mr-2"}),"Search"]})]}),(0,s.jsx)("div",{children:x?(0,s.jsx)("div",{className:"p-4 text-center",children:(0,s.jsx)("div",{className:"animate-pulse flex justify-center",children:(0,s.jsx)("div",{className:"h-4 w-24 bg-gray-300 dark:bg-dark-600 rounded"})})}):t.length>0?(0,s.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:t.map(e=>{var r;return(0,s.jsxs)("div",{onClick:()=>j(e),className:"cursor-pointer group",children:[(0,s.jsx)("div",{className:"relative aspect-[2/3] overflow-hidden rounded-lg mb-2 group-hover:ring-2 ring-primary-500 transition-all",children:(0,s.jsx)(i.default,{src:e.poster_path?"https://image.tmdb.org/t/p/w500".concat(e.poster_path):"/images/movie-placeholder.jpg",alt:e.title,fill:!0,className:"object-cover"})}),(0,s.jsx)("h3",{className:"font-medium text-sm line-clamp-1 group-hover:text-primary-600 transition-colors",children:e.title}),(0,s.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:(null===(r=e.release_date)||void 0===r?void 0:r.substring(0,4))||"Unknown"})]},e.id)})}):e?(0,s.jsx)("div",{className:"p-4 text-center text-gray-600 dark:text-gray-300",children:"No results found. Try a different search term."}):(0,s.jsx)("div",{className:"p-4 text-center text-gray-600 dark:text-gray-300",children:"Search for a movie to compare."})}),(0,s.jsx)("div",{className:"mt-4 flex justify-end",children:(0,s.jsx)("button",{onClick:()=>g(null),className:"px-4 py-2 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white",children:"Cancel"})})]}),o.some(e=>null!==e)&&(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full bg-white dark:bg-dark-700 rounded-xl shadow-lg",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"border-b border-gray-200 dark:border-dark-600",children:[(0,s.jsx)("th",{className:"p-4 text-left font-semibold",children:"Feature"}),o.map((e,r)=>(0,s.jsx)("th",{className:"p-4 text-center font-semibold",children:e?e.title:"Movie ".concat(r+1)},r))]})}),(0,s.jsxs)("tbody",{children:[(0,s.jsxs)("tr",{className:"border-b border-gray-200 dark:border-dark-600",children:[(0,s.jsxs)("td",{className:"p-4 flex items-center font-medium",children:[(0,s.jsx)(n.vlc,{className:"mr-2 text-primary-600"}),"Release Date"]}),o.map((e,r)=>(0,s.jsx)("td",{className:"p-4 text-center text-gray-600 dark:text-gray-300",children:e?e.release_date:"—"},r))]}),(0,s.jsxs)("tr",{className:"border-b border-gray-200 dark:border-dark-600",children:[(0,s.jsxs)("td",{className:"p-4 flex items-center font-medium",children:[(0,s.jsx)(n.nae,{className:"mr-2 text-primary-600"}),"Rating"]}),o.map((e,r)=>(0,s.jsx)("td",{className:"p-4 text-center",children:e?(0,s.jsxs)("div",{className:"flex items-center justify-center",children:[(0,s.jsxs)("span",{className:"flex items-center text-yellow-500",children:[(0,s.jsx)(n.nae,{className:"fill-current mr-1"}),(0,s.jsx)("span",{className:"font-semibold",children:e.vote_average.toFixed(1)})]}),(0,s.jsx)("span",{className:"text-xs text-gray-500 ml-1",children:"/10"})]}):"—"},r))]}),(0,s.jsxs)("tr",{className:"border-b border-gray-200 dark:border-dark-600",children:[(0,s.jsxs)("td",{className:"p-4 flex items-center font-medium",children:[(0,s.jsx)(n.TCC,{className:"mr-2 text-primary-600"}),"Runtime"]}),o.map((e,r)=>(0,s.jsx)("td",{className:"p-4 text-center text-gray-600 dark:text-gray-300",children:e?"".concat(e.runtime," min"):"—"},r))]}),(0,s.jsxs)("tr",{className:"border-b border-gray-200 dark:border-dark-600",children:[(0,s.jsxs)("td",{className:"p-4 flex items-center font-medium",children:[(0,s.jsx)("span",{className:"mr-2 text-primary-600",children:"#"}),"Genres"]}),o.map((e,r)=>{var t;return(0,s.jsx)("td",{className:"p-4 text-center text-gray-600 dark:text-gray-300",children:e?null===(t=e.genres)||void 0===t?void 0:t.map(e=>e.name).join(", "):"—"},r)})]}),(0,s.jsxs)("tr",{className:"border-b border-gray-200 dark:border-dark-600",children:[(0,s.jsxs)("td",{className:"p-4 flex items-center font-medium",children:[(0,s.jsx)(n.WY8,{className:"mr-2 text-primary-600"}),"Director"]}),o.map((e,r)=>{var t,a,l;return(0,s.jsx)("td",{className:"p-4 text-center text-gray-600 dark:text-gray-300",children:e?(null===(l=e.credits)||void 0===l?void 0:null===(a=l.crew)||void 0===a?void 0:null===(t=a.find(e=>"Director"===e.job))||void 0===t?void 0:t.name)||"Unknown":"—"},r)})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"p-4 flex items-center font-medium",children:"Overview"}),o.map((e,r)=>(0,s.jsx)("td",{className:"p-4 text-sm text-gray-600 dark:text-gray-300",children:e?(0,s.jsx)("p",{className:"line-clamp-3",children:e.overview}):"—"},r))]})]})]})})]})})]})}}},function(e){e.O(0,[502,340,464,728,971,117,744],function(){return e(e.s=5220)}),_N_E=e.O()}]);